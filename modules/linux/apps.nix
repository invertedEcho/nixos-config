{pkgs, ...}: let
  inherit (pkgs.unstable);
in {
  # TODO: split this list into multiple and categorize
  environment.systemPackages = with pkgs;
    [
      poppler_utils
      unstable.jetbrains.idea-community-bin
      gnumake
      vim
      htop
      killall
      wget
      wl-clipboard
      loupe
      rofi-wayland
      pavucontrol
      python3
      gcc13
      mpv
      nautilus
      gnome-disk-utility
      waybar
      webcord
      xwayland
      lazygit
      nodePackages_latest.typescript-language-server
      nodePackages.bash-language-server
      pyright
      nodePackages.eslint
      python311Packages.jedi-language-server
      tailwindcss-language-server
      prettierd
      ripgrep
      iwgtk
      file
      grim
      slurp
      libnotify
      gammastep
      playerctl
      libimobiledevice
      ifuse
      swaybg
      util-linux
      jq
      lua-language-server
      stylua
      corepack_22
      pkg-config
      openssl
      android-tools
      vulkan-tools
      pinentry
      wtype
      hyprlock
      swaynotificationcenter
      kooha
      openjdk17-bootstrap
      rclone
      postgresql_16
      act
      solaar
      wlogout
      polkit
      polkit_gnome
      nixfmt-classic
      inetutils
      parted
      appimage-run
      pass
      shellcheck
      stripe-cli
      unrar
      unzip
      sway
      brightnessctl
      squashfsTools
      wdisplays
      glib
      fzf
      vscodium
      pamixer
      lazysql
      cloudflared
      tidal-hifi
      openssl
      ngrok
      gedit
      jetbrains.pycharm-community-bin
      qemu
      dmg2img
      usbutils
      pciutils
      ranger
      virt-manager
      libvirt
      nil
      rpi-imager
      wl-color-picker
      cpulimit
      _1password-gui
      _1password-cli
      nodePackages_latest.aws-cdk
      wev
      dnsutils
      nixd
      alejandra
      gnome-characters
      lsof
      trash-cli
      gnome-calculator
      python312Packages.flake8
      zathura
      bat
      ntfs3g
      jellyfin-media-player
      spotify
      notesnook
    ]
    # apps only for macbook vm
    # TODO: use hostname instead of system architecture
    ++ lib.optionals (pkgs.system == "aarch64-linux") [
      libreoffice
      xorg.xinit
      xclip
      kitty
    ]
    # apps only for everything else except macbook vm
    # TODO: use hostname instead of system architecture
    ++ lib.optionals (pkgs.system != "aarch64-linux") [
      cpufrequtils
      nvtopPackages.nvidia
      teamviewer
      onlyoffice-bin
      androidStudioPackages.canary
      multipass
    ];
}
